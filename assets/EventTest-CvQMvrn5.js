import{d as _,r as L,a as S,b as o,e as n,w as p,F as E,o as j}from"./index-Bx4XSckj.js";import{S as b}from"./sweetalert2.all-BjHb6BrB.js";const T={color:"blue",zIndex:1059,enforceFocus:!1};function W(y={}){const m=_.useLoading({...T,...y});function d(l={}){const s=document.activeElement;s.blur();const r=m.show({...l});function i(){r.hide(),s.focus()}return{close:i}}return{open:d}}const C=o("h1",{class:"h1"},"測試事件觸發",-1),A=o("p",null,[o("a",{href:"https://github.com/GitHubPlayerZero/hex-vue3-practise/blob/main/src/views/samples/EventTest.vue",target:"_blank"},"Code")],-1),B=o("hr",{class:"hr mt-0"},null,-1),M=o("h2",{class:"h2"},"基本 form 事件觸發",-1),F=o("p",null,"連續按 Enter 得連續觸發 submit。",-1),O=o("button",null,"提交",-1),N=o("hr",{class:"my-5"},null,-1),V=o("h2",{class:"h2"},"form 事件觸發 loading",-1),$=o("p",null,"測試之後才發現，vue-loading-overlay 竟然沒有防鍵盤操作！",-1),z=o("p",null,"原本的 vue-loading-overlay，使用 Enter 觸發 submit，即使 loading 開啟了也還是可以繼續觸發。",-1),G=o("button",null,"提交",-1),H=o("p",null,"改寫成自己的 loading。",-1),I=o("button",null,"提交",-1),P={class:"vl-parent box mb-24"},Z=o("p",null,"區域 loading 測試。",-1),q=o("button",null,"提交",-1),D=o("hr",{class:"my-5"},null,-1),J=o("h2",{class:"h2"},"form 事件觸發 alert",-1),Q=o("button",null,"提交",-1),R=o("hr",{class:"my-5"},null,-1),U=o("h2",{class:"h2"},"form 事件觸發 SweetAlert2",-1),X=o("p",null,[n(" 由於 SWAL 預設一定會 focus 在某個 button 上，即使只有 confirm button 並且設定為 "),o("code",null,"focusConfirm: false,"),n("，但仍然會 focus confirm button。"),o("br"),n(" 除非把所有 button 都拿掉..."),o("br"),n(" 這會造成——如果使用者持續按著 Enter，就會直接將訊息窗關閉。"),o("br"),n(" 並且，如果使用者再持續按著 Enter，就會再度觸發隱式提交，然後再度開訊息窗、關訊息窗... 動作不斷循環。 ")],-1),Y=o("button",null,"提交",-1),oo=o("p",null,[n(" 雖然，我們相信大部份的使用者都不會故意這麼做。"),o("br"),n(" 但一方面，為了避免真的有人惡意為之。"),o("br"),n(" 另一方面，也是為了不想讓使用者太容易就能將訊息關閉，這會提升使用者忽略訊息的機率（根據經驗許多使用者不愛看訊息）。"),o("br"),n(" 因此，可以將訊息窗設定為——只有真的手動點擊了按鈕才會關閉。 ")],-1),eo=o("button",null,"提交",-1),so={__name:"EventTest",setup(y){const m=_.useLoading({color:"#00f",backgroundColor:"rgba(0,0,123,0.4)"}),d=W();function l(t){console.log("[form] keydown")}function s(t){console.log("[form] keypress")}function r(t){console.log("[form] keyup")}function i(t){console.log("[input text] keydown")}function c(t){console.log("[input text] keypress")}function u(t){console.log("[input text] keyup")}function v(t){console.log("[form] submit")}function h(t){const e=m.show();console.log("[form] submit"),setTimeout(()=>{e.hide()},5e3)}function K(t){const e=d.open();console.log("[form] submit"),setTimeout(()=>{e.close()},5e3)}const f=L(null);function g(t){const e=d.open({container:f.value,color:"red",backgroundColor:"rgba(0,0,123,0.4)"});console.log("[form] submit"),setTimeout(()=>{e.close()},5e3)}function w(t){console.log("[form] submit"),alert("訊息")}function k(t){console.log("[form] submit"),b.fire({title:"訊息",focusConfirm:!1,didOpen(e){e.addEventListener("keydown",a=>{console.log("[popup] keydown")}),e.addEventListener("keypress",a=>{console.log("[popup] keypress")}),e.addEventListener("keyup",a=>{console.log("[popup] keyup")}),e.addEventListener("click",a=>{console.log("[popup] click")})}})}function x(t){console.log("[form] submit"),b.fire({title:"請好好將訊息看完再關閉！",allowEscapeKey:!1,allowOutsideClick:!1,confirmButtonText:"我知道了",didOpen(e){e.focus(),e.addEventListener("keydown",a=>{console.log("[popup] keydown")}),e.addEventListener("keypress",a=>{console.log("[popup] keypress")}),e.addEventListener("keyup",a=>{console.log("[popup] keyup")}),e.addEventListener("click",a=>{console.log("[popup] click")})}})}return(t,e)=>(j(),S(E,null,[C,A,B,M,F,o("form",{action:"javascript:alert('form action')",class:"box",onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(v,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),O],32),N,V,$,z,o("form",{action:"javascript:alert('form action')",class:"box mb-24",onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(h,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),G],32),H,o("form",{action:"javascript:alert('form action')",class:"box mb-24",onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(K,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),I],32),o("div",P,[Z,o("form",{action:"javascript:alert('form action')",ref_key:"formLocal",ref:f,onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(g,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),q],544)]),D,J,o("form",{action:"javascript:alert('form action')",class:"box",onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(w,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),Q],32),R,U,X,o("form",{action:"javascript:alert('form action')",class:"box mb-24",onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(k,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),Y],32),oo,o("form",{action:"javascript:alert('form action')",class:"box",onKeydown:l,onKeypress:s,onKeyup:r,onSubmit:p(x,["prevent"])},[o("input",{type:"text",onKeydown:i,onKeypress:c,onKeyup:u},null,32),n("   "),eo],32)],64))}};export{so as default};
