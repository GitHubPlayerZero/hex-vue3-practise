var N=Object.defineProperty;var T=o=>{throw TypeError(o)};var O=(o,s,i)=>s in o?N(o,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[s]=i;var b=(o,s,i)=>O(o,typeof s!="symbol"?s+"":s,i),R=(o,s,i)=>s.has(o)||T("Cannot "+i);var a=(o,s,i)=>(R(o,s,"read from private field"),i?i.call(o):s.get(o)),p=(o,s,i)=>s.has(o)?T("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(o):s.set(o,i),U=(o,s,i,c)=>(R(o,s,"write to private field"),c?c.call(o,i):s.set(o,i),i);import{a as D,b as l,t as M,u as j,e as u,c as $,F as k,o as A}from"./index-D-Kw1HjC.js";const t={logDivider(o=50){console.log("=".repeat(o))},logTestItem(o){console.log(`
${"=".repeat(8)} 測試 ${o} ${"=".repeat(8)}

`)},logTestTitle(o){console.log(`

🌸 ${o} 🌸`)},logUrlObj(o){console.log(o),console.log("origin ==>",o.origin),console.log("pathname ==>",o.pathname),console.log("href ==>",o.href)}};var r,m;const n=class n{constructor(s){p(this,r);p(this,m);if(!s)throw new Error("必須給入 baseUrl！");U(this,r,s),U(this,m,new URL(a(this,r))),console.log("基礎 URL ==>",a(this,r)),console.log("基礎 URL 實例 ==>",a(this,m))}buildUrlCustom(s){return new URL(s,a(this,r))}buildUrlRoot(){return this.buildUrlCustom("/")}buildUrlNotExistAbsolute(){return this.buildUrlCustom(n.notExistAbsolutePath)}buildUrlRelativeCurrent(){return this.buildUrlCustom("./")}buildUrlRelativePrevious(){return this.buildUrlCustom("../")}buildUrlNotExistRelativePrevious(){return this.buildUrlCustom(n.notExistRelativePreviousPath)}buildUrlNotExistRelativeNext(){return this.buildUrlCustom(n.notExistRelativeNextPath)}getBaseUrl(){return a(this,r)}getBaseUrlObj(){return a(this,m)}test(){console.log(this),t.logTestTitle("基礎 URL 物件"),t.logUrlObj(this.getBaseUrlObj()),t.logTestTitle("根目錄"),t.logUrlObj(this.buildUrlRoot()),t.logTestTitle("當層目錄"),t.logUrlObj(this.buildUrlRelativeCurrent()),t.logTestTitle("上一層目錄"),t.logUrlObj(this.buildUrlRelativePrevious()),t.logTestTitle(`不存在的絕對路徑 (${n.notExistAbsolutePath})`),t.logUrlObj(this.buildUrlNotExistAbsolute()),t.logTestTitle(`不存在的上一層相對路徑 (${n.notExistRelativePreviousPath})`),t.logUrlObj(this.buildUrlNotExistRelativePrevious()),t.logTestTitle(`不存在的下一層相對路徑 (${n.notExistRelativeNextPath})`),t.logUrlObj(this.buildUrlNotExistRelativeNext()),t.logTestTitle("自定義 URL"),t.logUrlObj(this.buildUrlCustom("https://www.google.com.tw/search"))}};r=new WeakMap,m=new WeakMap,b(n,"notExistAbsolutePath","/aaa"),b(n,"notExistRelativePreviousPath","../aaa"),b(n,"notExistRelativeNextPath","./aaa");let g=n;function I(){return console.log(`外部模組取得的 window.location.href ==> ${window.location.href}`),console.log(`外部模組的 import.meta.url ==> ${import.meta.url}`),console.log(""),new g(import.meta.url)}function S(){return console.log(`外部模組取得的 window.location.href ==> ${window.location.href}`),console.log(`外部模組的 import.meta.url ==> ${import.meta.url}`),console.log(""),new g(import.meta.url)}const V={BASE_URL:"/hex-vue3-practise/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},F={class:"mb-32"};console.log("[composition - script] meta ==>",import.meta);console.log("");const G={__name:"MetaUrl",setup(o){console.log("[composition - setup] meta ==>",import.meta),console.log("[composition - setup] env ==>",V);const s="/hex-vue3-practise/";t.logDivider(),console.log("");function i(d){console.log(d),console.log("text1 ==>",d.searchParams.get("text1")),console.log("text2 ==>",d.searchParams.get("text2")),console.log("moduleName ==>",d.searchParams.get("moduleName"))}console.log("## 建立測試 - window.location.href");const c=new g(window.location.href);function f(){console.log(""),t.logTestItem("window.location.href"),c.test(),console.log(""),t.logDivider()}function w(){t.logTestTitle("window.location.href 取得參數"),i(c.getBaseUrlObj()),console.log(""),t.logDivider()}console.log(""),console.log("## 建立測試 - 內部模組 import.meta.url");const h=new g(import.meta.url);function P(){t.logTestItem("內部模組 import.meta.url"),h.test(),console.log(""),t.logDivider()}function y(){t.logTestTitle("內部模組取得參數"),i(h.getBaseUrlObj()),console.log(""),t.logDivider()}console.log(""),console.log("## 建立測試 - 外部模組 import.meta.url");const v=I();function E(){t.logTestItem("外部模組 import.meta.url"),v.test(),console.log(""),t.logDivider()}function C(){t.logTestTitle("外部模組取得參數"),i(v.getBaseUrlObj()),console.log(""),t.logDivider()}console.log(""),console.log("## 建立測試 - 外部模組 (帶參數) import.meta.url");const x=S();function L(){t.logTestItem("外部模組 (帶參數) import.meta.url"),x.test(),console.log(""),t.logDivider()}function B(){t.logTestTitle("外部模組 (帶參數) 取得參數"),i(x.getBaseUrlObj()),console.log(""),t.logDivider()}return console.log(""),t.logDivider(),(d,e)=>(A(),D(k,null,[l("section",F,[e[0]||(e[0]=l("h1",{class:"h1"},"meta 資料與 URL 測試（Composition）",-1)),e[1]||(e[1]=l("p",null,"請開啟 console 觀看測試結果。",-1)),l("p",null,"Base URL："+M(j(s)),1),e[2]||(e[2]=l("p",{class:"fw-bold"},[u("經由測試發現，"),l("code",null,"BASE_URL"),u(" 並不會作為根路徑的一份子。")],-1))]),e[3]||(e[3]=$('<hr><p>送出表單，會開啟新視窗。</p><form target="_blank"><div class="mb-3"><label> text1： <input type="text" name="text1" value="我的字串"></label></div><div class="mb-24"><label> text2： <input type="text" name="text2" value="my text"></label></div><div><button class="btn btn-primary">提交</button></div></form><hr><h2 class="h2">window.location.href</h2><p class="mb-24"> 由於路由使用 hash 模式，使用 <code>window.location.href</code> 取得 URL 時，<code>#</code> 開始後方的路徑，都會被當作 URL hash（錨點）的部份。 </p>',6)),l("div",null,[l("button",{type:"button",class:"btn btn-primary me-3",onClick:f}," URL 基本測試 "),l("button",{type:"button",class:"btn btn-primary me-3",onClick:w},"取得參數")]),e[4]||(e[4]=l("hr",{class:"my-4"},null,-1)),e[5]||(e[5]=l("h2",{class:"h2"},"內部模組 import.meta",-1)),e[6]||(e[6]=l("p",null,[u("使用 "),l("code",null,"import.meta"),u(" 取得的 URL 會依據檔案的實體路徑。")],-1)),l("div",null,[l("button",{type:"button",class:"btn btn-primary me-3",onClick:P}," URL 基本測試 "),l("button",{type:"button",class:"btn btn-primary me-3",onClick:y}," 取得參數 ")]),e[7]||(e[7]=l("hr",{class:"my-4"},null,-1)),e[8]||(e[8]=l("h2",{class:"h2"},"外部模組 import.meta",-1)),e[9]||(e[9]=l("p",null,[u("使用外部模組："),l("code",null,"urlModuleTest.js")],-1)),l("div",null,[l("button",{type:"button",class:"btn btn-primary me-3",onClick:E}," URL 基本測試 "),l("button",{type:"button",class:"btn btn-primary me-3",onClick:C}," 取得參數 ")]),e[10]||(e[10]=l("hr",{class:"my-4"},null,-1)),e[11]||(e[11]=l("h2",{class:"h2"},"外部模組 (帶參數) import.meta",-1)),e[12]||(e[12]=l("p",null,[u("使用外部模組："),l("code",null,"urlModuleTest.js?moduleName=moduleParam")],-1)),l("div",null,[l("button",{type:"button",class:"btn btn-primary me-3",onClick:L}," URL 基本測試 "),l("button",{type:"button",class:"btn btn-primary me-3",onClick:B}," 取得參數 ")]),e[13]||(e[13]=l("hr",{class:"my-4"},null,-1))],64))}};export{G as default};
