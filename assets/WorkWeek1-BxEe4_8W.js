import{_ as h,f as c,a,b as t,F as b,h as f,e as v,k as i,v as d,o as u,t as m,y as x,z as _}from"./index-C76UJXoh.js";const y=r=>(x("data-v-81a102c0"),r=r(),_(),r),C={class:"container"},D={class:"table table-striped table-hover table-bordered"},V=y(()=>t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{scope:"col",class:"thFunction"}," "),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col"},"價格"),t("th",{scope:"col"},"庫存")])],-1)),A={class:"text-center"},w={class:"text-center"},U=["onClick"],g=["disabled","onClick"],M=["onClick"],I={class:"d-inline-block",style:{width:"70px","text-align":"center"}},S=["onClick"],W={key:0},$={class:"text-center"},B={key:1},F={colspan:"5",class:"text-center p-3"},T=["disabled"],N=y(()=>t("span",{class:"d-inline-block px-3 py-1"},"新  增",-1)),Q=[N],z={__name:"WorkWeek1",setup(r){const p=c([{id:1,name:"珍珠奶茶",desc:"香濃奶茶搭配QQ珍珠",price:50,stock:20},{id:2,name:"冬瓜檸檬",desc:"清新冬瓜配上新鮮檸檬",price:45,stock:18},{id:3,name:"翡翠檸檬",desc:"綠茶與檸檬的完美結合",price:55,stock:34},{id:4,name:"四季春茶",desc:"香醇四季春茶，回甘無比",price:45,stock:10},{id:5,name:"阿薩姆奶茶",desc:"阿薩姆紅茶搭配香醇鮮奶",price:50,stock:25},{id:6,name:"檸檬冰茶",desc:"檸檬與冰茶的清新組合",price:45,stock:20},{id:7,name:"芒果綠茶",desc:"芒果與綠茶的獨特風味",price:55,stock:18},{id:8,name:"抹茶拿鐵",desc:"抹茶與鮮奶的絕配",price:60,stock:20}]),k={reduce(o){o.stock>0&&o.stock--},add(o){o.stock++}},e={tmp:c({}),isDisableModify:c(!1),isDisableAdd:c(!1),isAdd:c(!1),add(){this.isDisableModify.value=!0,this.isAdd.value=!0},delete(o){if(confirm("確定要刪除此筆資料？")){const s=p.value.findIndex(l=>l.id===o);p.value.splice(s,1)}},modify(o){this.isDisableModify.value=!0,this.isDisableAdd.value=!0,this.tmp.value={...o}},save(){if(!this.tmp.value.name){alert("品項不可為空！");return}if(this.tmp.value.price||(this.tmp.value.price=0),this.tmp.value.stock||(this.tmp.value.stock=0),this.isAdd.value)this.tmp.value.id=new Date().getTime(),p.value.push({...this.tmp.value});else{const o=p.value.find(s=>s.id===this.tmp.value.id);o.name=this.tmp.value.name,o.desc=this.tmp.value.desc,o.price=this.tmp.value.price,o.stock=this.tmp.value.stock}this.reset()},reset(){this.tmp.value={},this.isDisableModify.value=!1,this.isDisableAdd.value=!1,this.isAdd.value=!1}};return(o,s)=>(u(),a("div",C,[t("table",D,[V,t("tbody",null,[(u(!0),a(b,null,f(p.value,l=>(u(),a("tr",{key:l.id},[e.tmp.value.id===l.id?(u(),a(b,{key:0},[t("td",A,[t("button",{type:"button",class:"btn btn-outline-success",onClick:s[0]||(s[0]=(...n)=>e.save&&e.save(...n))}," 完成 "),v("     "),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[1]||(s[1]=(...n)=>e.reset&&e.reset(...n))}," 取消 ")]),t("td",null,[i(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=n=>e.tmp.value.name=n)},null,512),[[d,e.tmp.value.name]])]),t("td",null,[i(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=n=>e.tmp.value.desc=n)},null,512),[[d,e.tmp.value.desc]])]),t("td",null,[i(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":s[4]||(s[4]=n=>e.tmp.value.price=n)},null,512),[[d,e.tmp.value.price]])]),t("td",null,[i(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":s[5]||(s[5]=n=>e.tmp.value.stock=n)},null,512),[[d,e.tmp.value.stock]])])],64)):(u(),a(b,{key:1},[t("td",w,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:n=>e.delete(l.id)}," 刪除 ",8,U),v("     "),t("button",{type:"button",class:"btn btn-outline-primary",disabled:e.isDisableModify.value,onClick:n=>e.modify(l)}," 編輯 ",8,g)]),t("td",null,m(l.name),1),t("td",null,[t("small",null,m(l.desc),1)]),t("td",null,m(l.price),1),t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:n=>k.reduce(l)}," - ",8,M),t("span",I,m(l.stock),1),t("button",{type:"button",class:"btn btn-outline-success",onClick:n=>k.add(l)}," + ",8,S)])],64))]))),128)),e.isAdd.value?(u(),a("tr",W,[t("td",$,[t("button",{type:"button",class:"btn btn-outline-success",onClick:s[6]||(s[6]=(...l)=>e.save&&e.save(...l))}," 完成"),v("    "),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[7]||(s[7]=(...l)=>e.reset&&e.reset(...l))}," 取消 ")]),t("td",null,[i(t("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=l=>e.tmp.value.name=l)},null,512),[[d,e.tmp.value.name]])]),t("td",null,[i(t("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=l=>e.tmp.value.desc=l)},null,512),[[d,e.tmp.value.desc]])]),t("td",null,[i(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":s[10]||(s[10]=l=>e.tmp.value.price=l)},null,512),[[d,e.tmp.value.price]])]),t("td",null,[i(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":s[11]||(s[11]=l=>e.tmp.value.stock=l)},null,512),[[d,e.tmp.value.stock]])])])):(u(),a("tr",B,[t("td",F,[t("button",{type:"button",class:"btn btn-primary",disabled:e.isDisableAdd.value,onClick:s[12]||(s[12]=(...l)=>e.add&&e.add(...l))},Q,8,T)])]))])])]))}},L=h(z,[["__scopeId","data-v-81a102c0"]]);export{L as default};
