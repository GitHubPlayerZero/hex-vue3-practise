import{_ as k,r,a,b as t,F as m,m as y,e as b,f as o,v as d,o as u,t as c}from"./index-hDkxGt-s.js";const f={class:"container"},x={class:"table table-striped table-hover table-bordered"},h={class:"text-center"},C={class:"text-center"},D=["onClick"],V=["disabled","onClick"],A=["onClick"],U={class:"d-inline-block",style:{width:"70px","text-align":"center"}},w=["onClick"],g={key:0},M={class:"text-center"},_={key:1},W={colspan:"5",class:"text-center p-3"},$=["disabled"],B={__name:"WorkWeek1",setup(F){const p=r([{id:1,name:"珍珠奶茶",desc:"香濃奶茶搭配QQ珍珠",price:50,stock:20},{id:2,name:"冬瓜檸檬",desc:"清新冬瓜配上新鮮檸檬",price:45,stock:18},{id:3,name:"翡翠檸檬",desc:"綠茶與檸檬的完美結合",price:55,stock:34},{id:4,name:"四季春茶",desc:"香醇四季春茶，回甘無比",price:45,stock:10},{id:5,name:"阿薩姆奶茶",desc:"阿薩姆紅茶搭配香醇鮮奶",price:50,stock:25},{id:6,name:"檸檬冰茶",desc:"檸檬與冰茶的清新組合",price:45,stock:20},{id:7,name:"芒果綠茶",desc:"芒果與綠茶的獨特風味",price:55,stock:18},{id:8,name:"抹茶拿鐵",desc:"抹茶與鮮奶的絕配",price:60,stock:20}]),v={reduce(i){i.stock>0&&i.stock--},add(i){i.stock++}},s={tmp:r({}),isDisableModify:r(!1),isDisableAdd:r(!1),isAdd:r(!1),add(){this.isDisableModify.value=!0,this.isAdd.value=!0},delete(i){if(confirm("確定要刪除此筆資料？")){const e=p.value.findIndex(l=>l.id===i);p.value.splice(e,1)}},modify(i){this.isDisableModify.value=!0,this.isDisableAdd.value=!0,this.tmp.value={...i}},save(){if(!this.tmp.value.name){alert("品項不可為空！");return}if(this.tmp.value.price||(this.tmp.value.price=0),this.tmp.value.stock||(this.tmp.value.stock=0),this.isAdd.value)this.tmp.value.id=new Date().getTime(),p.value.push({...this.tmp.value});else{const i=p.value.find(e=>e.id===this.tmp.value.id);i.name=this.tmp.value.name,i.desc=this.tmp.value.desc,i.price=this.tmp.value.price,i.stock=this.tmp.value.stock}this.reset()},reset(){this.tmp.value={},this.isDisableModify.value=!1,this.isDisableAdd.value=!1,this.isAdd.value=!1}};return(i,e)=>(u(),a("div",f,[t("table",x,[e[17]||(e[17]=t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{scope:"col",class:"thFunction"}," "),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col"},"價格"),t("th",{scope:"col"},"庫存")])],-1)),t("tbody",null,[(u(!0),a(m,null,y(p.value,l=>(u(),a("tr",{key:l.id},[s.tmp.value.id===l.id?(u(),a(m,{key:0},[t("td",h,[t("button",{type:"button",class:"btn btn-outline-success",onClick:e[0]||(e[0]=(...n)=>s.save&&s.save(...n))}," 完成 "),e[13]||(e[13]=b("     ")),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=(...n)=>s.reset&&s.reset(...n))}," 取消 ")]),t("td",null,[o(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=n=>s.tmp.value.name=n)},null,512),[[d,s.tmp.value.name]])]),t("td",null,[o(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=n=>s.tmp.value.desc=n)},null,512),[[d,s.tmp.value.desc]])]),t("td",null,[o(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":e[4]||(e[4]=n=>s.tmp.value.price=n)},null,512),[[d,s.tmp.value.price]])]),t("td",null,[o(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":e[5]||(e[5]=n=>s.tmp.value.stock=n)},null,512),[[d,s.tmp.value.stock]])])],64)):(u(),a(m,{key:1},[t("td",C,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:n=>s.delete(l.id)}," 刪除 ",8,D),e[14]||(e[14]=b("     ")),t("button",{type:"button",class:"btn btn-outline-primary",disabled:s.isDisableModify.value,onClick:n=>s.modify(l)}," 編輯 ",8,V)]),t("td",null,c(l.name),1),t("td",null,[t("small",null,c(l.desc),1)]),t("td",null,c(l.price),1),t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:n=>v.reduce(l)}," - ",8,A),t("span",U,c(l.stock),1),t("button",{type:"button",class:"btn btn-outline-success",onClick:n=>v.add(l)}," + ",8,w)])],64))]))),128)),s.isAdd.value?(u(),a("tr",g,[t("td",M,[t("button",{type:"button",class:"btn btn-outline-success",onClick:e[6]||(e[6]=(...l)=>s.save&&s.save(...l))}," 完成"),e[15]||(e[15]=b("    ")),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[7]||(e[7]=(...l)=>s.reset&&s.reset(...l))}," 取消 ")]),t("td",null,[o(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=l=>s.tmp.value.name=l)},null,512),[[d,s.tmp.value.name]])]),t("td",null,[o(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=l=>s.tmp.value.desc=l)},null,512),[[d,s.tmp.value.desc]])]),t("td",null,[o(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":e[10]||(e[10]=l=>s.tmp.value.price=l)},null,512),[[d,s.tmp.value.price]])]),t("td",null,[o(t("input",{type:"number",min:"0",style:{width:"60px"},"onUpdate:modelValue":e[11]||(e[11]=l=>s.tmp.value.stock=l)},null,512),[[d,s.tmp.value.stock]])])])):(u(),a("tr",_,[t("td",W,[t("button",{type:"button",class:"btn btn-primary",disabled:s.isDisableAdd.value,onClick:e[12]||(e[12]=(...l)=>s.add&&s.add(...l))},e[16]||(e[16]=[t("span",{class:"d-inline-block px-3 py-1"},"新  增",-1)]),8,$)])]))])])]))}},I=k(B,[["__scopeId","data-v-81a102c0"]]);export{I as default};
