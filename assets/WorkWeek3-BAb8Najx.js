import{o as s,b as l,F as b,s as k,d as e,f as o,q as x,e as p,a as v,B as g,w as y,g as w,v as C,c as T,x as $}from"./index-BmAhpkZA.js";const S={class:"list-group"},V=["onClick"],N={class:"d-flex w-100 justify-content-between"},R={class:"mb-1"},B={class:"mb-1"},F={__name:"Menu",emits:["add-to-cart"],setup(c,{emit:u}){const i=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}],a=u;return(n,h)=>(s(),l("div",S,[(s(),l(b,null,k(i,d=>e("a",{href:"#",class:"list-group-item list-group-item-action",key:d.id,onClick:x(m=>a("add-to-cart",d),["prevent"])},[e("div",N,[e("h5",R,o(d.name),1),e("small",null,o(d.price),1)]),e("p",B,o(d.description),1)],8,V)),64))]))}},M={key:0,class:"alert alert-secondary"},O={key:1,class:"card"},q={class:"card-body"},A={class:"card-title"},D=e("h5",null,"訂單",-1),I={class:"table"},U=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),j={class:"text-end"},L={class:"text-end"},Q={__name:"Order",props:{order:{type:Array,required:!0,default:[]},orderRemark:String,orderTotal:{type:Number,default:0}},setup(c){return(u,i)=>c.order.length<=0?(s(),l("div",M,"尚未建立訂單")):(s(),l("div",O,[e("div",q,[e("div",A,[D,e("table",I,[U,e("tbody",null,[(s(!0),l(b,null,k(c.order,a=>(s(),l("tr",{key:a.id},[e("td",null,o(a.name),1),e("td",null,o(a.count),1),e("td",null,o(a.subtotal),1)]))),128))])]),e("div",j,[p(" 備註: "),e("span",null,o(c.orderRemark),1)]),e("div",L,[e("h5",null,[p(" 總計: "),e("span",null,"$"+o(c.orderTotal),1)])])])])]))}},W={class:"table"},E=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1),P=["onClick"],z=["onUpdate:modelValue","onChange"],G=T('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),H=[G],J={key:0,class:"alert alert-warning text-center"},K={key:1},X={class:"text-end mb-3"},Y={__name:"Cart",props:{cart:{type:Array,required:!0,default:[]}},emits:["process-subtotal","remove-from-cart","send-order"],setup(c,{emit:u}){const i=v(""),a=c,n=u,h=g(()=>a.cart.reduce((m,_)=>m+=_.subtotal,0));function d(){n("send-order",i.value,h.value),i.value=""}return(m,_)=>(s(),l(b,null,[e("table",W,[E,e("tbody",null,[(s(!0),l(b,null,k(c.cart,t=>(s(),l("tr",{key:t.id},[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:r=>n("remove-from-cart",t.id)}," x ",8,P)]),e("td",null,o(t.name),1),e("td",null,[e("small",null,o(t.description),1)]),e("td",null,[y(e("select",{class:"form-select","onUpdate:modelValue":r=>t.count=r,onChange:r=>n("process-subtotal",t)},H,40,z),[[w,t.count]])]),e("td",null,o(t.price),1),e("td",null,o(t.subtotal),1)]))),128))])]),c.cart.length<=0?(s(),l("div",J,"請選擇商品")):(s(),l("div",K,[e("div",X,[e("h5",null,[p(" 總計: "),e("span",null,"$"+o(h.value),1)])]),y(e("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":_[0]||(_[0]=t=>i.value=t)},null,512),[[C,i.value]]),e("div",{class:"text-end"},[e("button",{type:"button",class:"btn btn-primary",onClick:d},"送出")])]))],64))}},Z=e("h2",null,"世上只有爸爸好，都叫爸爸做啊～",-1),ee=e("p",null,[p(" 風格："),e("br"),p(" 大部份的邏輯都集中在父元件，只有可以獨立處理的邏輯才會一併拆到子元件。"),e("br"),p(" 有需要共用到的資料也都會放在父元件，並透過父元件來操作。 ")],-1),te={class:"container mt-5"},oe={class:"row"},ne={class:"col-md-4"},se={class:"col-md-8"},le=e("hr",null,null,-1),ae={class:"row justify-content-center"},re={class:"col-8"},ie={__name:"WorkWeek3",setup(c){const u=v(""),i=v(0),a=v([]),n=v([]);function h(t){t.subtotal=t.price*t.count}function d(t){const r=n.value.findIndex(f=>f.id===t);n.value.splice(r,1)}function m(t,r){u.value=t,i.value=r,a.value=n.value,n.value=[]}function _(t){const r=n.value.find(f=>f.productId===t.id);if(r){alert(`[${r.name}] 已加入，請直接調整品項數量哦～`);return}n.value.push({...t,count:1,subtotal:t.price,productId:t.id,id:new Date().getTime()})}return(t,r)=>(s(),l(b,null,[Z,ee,e("div",te,[e("div",oe,[e("div",ne,[$(F,{onAddToCart:_})]),e("div",se,[$(Y,{cart:n.value,onProcessSubtotal:h,onRemoveFromCart:d,onSendOrder:m},null,8,["cart"])])]),le,e("div",ae,[e("div",re,[$(Q,{order:a.value,"order-remark":u.value,"order-total":i.value},null,8,["order","order-remark","order-total"])])])])],64))}};export{ie as default};
