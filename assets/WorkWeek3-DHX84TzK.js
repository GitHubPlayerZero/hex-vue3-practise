import{o as a,a as i,F as b,m as k,b as t,t as s,w as x,e as m,r as h,E as g,f as y,g as w,c as C,v as T,p as $}from"./index-BSaWcvpw.js";const S={class:"list-group"},V=["onClick"],N={class:"d-flex w-100 justify-content-between"},R={class:"mb-1"},F={class:"mb-1"},M={__name:"Menu",emits:["add-to-cart"],setup(c,{emit:p}){const o=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}],d=p;return(l,v)=>(a(),i("div",S,[(a(),i(b,null,k(o,u=>t("a",{href:"#",class:"list-group-item list-group-item-action",key:u.id,onClick:x(_=>d("add-to-cart",u),["prevent"])},[t("div",N,[t("h5",R,s(u.name),1),t("small",null,s(u.price),1)]),t("p",F,s(u.description),1)],8,V)),64))]))}},O={key:0,class:"alert alert-secondary"},A={key:1,class:"card"},B={class:"card-body"},D={class:"card-title"},I={class:"table"},U={class:"text-end"},j={class:"text-end"},q={__name:"Order",props:{order:{type:Array,required:!0,default:[]},orderRemark:String,orderTotal:{type:Number,default:0}},setup(c){return(p,o)=>c.order.length<=0?(a(),i("div",O,"尚未建立訂單")):(a(),i("div",A,[t("div",B,[t("div",D,[o[3]||(o[3]=t("h5",null,"訂單",-1)),t("table",I,[o[0]||(o[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(a(!0),i(b,null,k(c.order,d=>(a(),i("tr",{key:d.id},[t("td",null,s(d.name),1),t("td",null,s(d.count),1),t("td",null,s(d.subtotal),1)]))),128))])]),t("div",U,[o[1]||(o[1]=m(" 備註: ")),t("span",null,s(c.orderRemark),1)]),t("div",j,[t("h5",null,[o[2]||(o[2]=m(" 總計: ")),t("span",null,"$"+s(c.orderTotal),1)])])])])]))}},E={class:"table"},L=["onClick"],Q=["onUpdate:modelValue","onChange"],W={key:0,class:"alert alert-warning text-center"},P={key:1},z={class:"text-end mb-3"},G={__name:"Cart",props:{cart:{type:Array,required:!0,default:[]}},emits:["process-subtotal","remove-from-cart","send-order"],setup(c,{emit:p}){const o=h(""),d=c,l=p,v=g(()=>d.cart.reduce((_,r)=>_+=r.subtotal,0));function u(){l("send-order",o.value,v.value),o.value=""}return(_,r)=>(a(),i(b,null,[t("table",E,[r[2]||(r[2]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(a(!0),i(b,null,k(c.cart,e=>(a(),i("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:n=>l("remove-from-cart",e.id)}," x ",8,L)]),t("td",null,s(e.name),1),t("td",null,[t("small",null,s(e.description),1)]),t("td",null,[y(t("select",{class:"form-select","onUpdate:modelValue":n=>e.count=n,onChange:n=>l("process-subtotal",e)},r[1]||(r[1]=[C('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10)]),40,Q),[[w,e.count]])]),t("td",null,s(e.price),1),t("td",null,s(e.subtotal),1)]))),128))])]),c.cart.length<=0?(a(),i("div",W,"請選擇商品")):(a(),i("div",P,[t("div",z,[t("h5",null,[r[3]||(r[3]=m(" 總計: ")),t("span",null,"$"+s(v.value),1)])]),y(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":r[0]||(r[0]=e=>o.value=e)},null,512),[[T,o.value]]),t("div",{class:"text-end"},[t("button",{type:"button",class:"btn btn-primary",onClick:u},"送出")])]))],64))}},H={class:"container mt-5"},J={class:"row"},K={class:"col-md-4"},X={class:"col-md-8"},Y={class:"row justify-content-center"},Z={class:"col-8"},et={__name:"WorkWeek3",setup(c){const p=h(""),o=h(0),d=h([]),l=h([]);function v(e){e.subtotal=e.price*e.count}function u(e){const n=l.value.findIndex(f=>f.id===e);l.value.splice(n,1)}function _(e,n){p.value=e,o.value=n,d.value=l.value,l.value=[]}function r(e){const n=l.value.find(f=>f.productId===e.id);if(n){alert(`[${n.name}] 已加入，請直接調整品項數量哦～`);return}l.value.push({...e,count:1,subtotal:e.price,productId:e.id,id:new Date().getTime()})}return(e,n)=>(a(),i(b,null,[n[1]||(n[1]=t("h2",null,"世上只有爸爸好，都叫爸爸做啊～",-1)),n[2]||(n[2]=t("p",null,[m(" 風格："),t("br"),m(" 大部份的邏輯都集中在父元件，只有可以獨立處理的邏輯才會一併拆到子元件。"),t("br"),m(" 有需要共用到的資料也都會放在父元件，並透過父元件來操作。 ")],-1)),t("div",H,[t("div",J,[t("div",K,[$(M,{onAddToCart:r})]),t("div",X,[$(G,{cart:l.value,onProcessSubtotal:v,onRemoveFromCart:u,onSendOrder:_},null,8,["cart"])])]),n[0]||(n[0]=t("hr",null,null,-1)),t("div",Y,[t("div",Z,[$(q,{order:d.value,"order-remark":p.value,"order-total":o.value},null,8,["order","order-remark","order-total"])])])])],64))}};export{et as default};
