import{f as c,z as C,a as s,b as t,F as p,h as _,e as v,t as n,j as f,v as T,o as l,i as V,k as $,c as N}from"./index-BQDHOZvY.js";const S={class:"container mt-5"},j={class:"row"},B={class:"col-md-4"},D={class:"list-group"},F=["onClick"],I={class:"d-flex w-100 justify-content-between"},M={class:"mb-1"},U={class:"mb-1"},L={class:"col-md-8"},Q={class:"table"},R=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),W=["onClick"],z=["onUpdate:modelValue","onChange"],E=N('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),O=[E],q={key:0,class:"alert alert-warning text-center"},A={key:1},G={class:"text-end mb-3"},H=t("hr",null,null,-1),J={class:"row justify-content-center"},K={class:"col-8"},P={key:0,class:"alert alert-secondary"},X={key:1,class:"card"},Y={class:"card-body"},Z={class:"card-title"},tt=t("h5",null,"訂單",-1),et={class:"table"},ot=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),nt={class:"text-end"},st={class:"text-end"},at={__name:"WorkWeek3NoComp",setup(lt){const k=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}],h=c(""),m=c(0),u=c([]),d=c(""),i=c([]),b=C(()=>i.value.reduce((o,a)=>o+=a.subtotal,0));function y(o){o.subtotal=o.price*o.count}function x(o){const a=i.value.findIndex(e=>e.id===o);i.value.splice(a,1)}function g(){h.value=d.value,m.value=b.value,u.value=i.value,d.value="",i.value=[]}function w(o){const a=i.value.find(e=>e.productId===o.id);if(a){alert(`[${a.name}] 已加入，請直接調整品項數量哦～`);return}i.value.push({...o,count:1,subtotal:o.price,productId:o.id,id:new Date().getTime()})}return(o,a)=>(l(),s("div",S,[t("div",j,[t("div",B,[t("div",D,[(l(),s(p,null,_(k,e=>t("a",{href:"#",class:"list-group-item list-group-item-action",key:e.id,onClick:V(r=>w(e),["prevent"])},[t("div",I,[t("h5",M,n(e.name),1),t("small",null,n(e.price),1)]),t("p",U,n(e.description),1)],8,F)),64))])]),t("div",L,[t("table",Q,[R,t("tbody",null,[(l(!0),s(p,null,_(i.value,e=>(l(),s("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:r=>x(e.id)}," x ",8,W)]),t("td",null,n(e.name),1),t("td",null,[t("small",null,n(e.description),1)]),t("td",null,[f(t("select",{class:"form-select","onUpdate:modelValue":r=>e.count=r,onChange:r=>y(e)},O,40,z),[[$,e.count]])]),t("td",null,n(e.price),1),t("td",null,n(e.subtotal),1)]))),128))])]),i.value.length<=0?(l(),s("div",q," 請選擇商品 ")):(l(),s("div",A,[t("div",G,[t("h5",null,[v(" 總計: "),t("span",null,"$"+n(b.value),1)])]),f(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e)},null,512),[[T,d.value]]),t("div",{class:"text-end"},[t("button",{type:"button",class:"btn btn-primary",onClick:g}," 送出 ")])]))])]),H,t("div",J,[t("div",K,[u.value.length<=0?(l(),s("div",P,"尚未建立訂單")):(l(),s("div",X,[t("div",Y,[t("div",Z,[tt,t("table",et,[ot,t("tbody",null,[(l(!0),s(p,null,_(u.value,e=>(l(),s("tr",{key:e.id},[t("td",null,n(e.name),1),t("td",null,n(e.count),1),t("td",null,n(e.subtotal),1)]))),128))])]),t("div",nt,[v(" 備註: "),t("span",null,n(h.value),1)]),t("div",st,[t("h5",null,[v(" 總計: "),t("span",null,"$"+n(m.value),1)])])])])]))])])]))}};export{at as default};
