import{r as d,K as C,a as s,b as t,F as p,m as v,e as m,t as l,f,v as T,o as i,w as V,g as $,c as N}from"./index-DzpwnQUG.js";const S={class:"container mt-5"},B={class:"row"},D={class:"col-md-4"},F={class:"list-group"},I=["onClick"],M={class:"d-flex w-100 justify-content-between"},U={class:"mb-1"},j={class:"mb-1"},L={class:"col-md-8"},Q={class:"table"},R=["onClick"],W=["onUpdate:modelValue","onChange"],E={key:0,class:"alert alert-warning text-center"},K={key:1},O={class:"text-end mb-3"},q={class:"row justify-content-center"},z={class:"col-8"},A={key:0,class:"alert alert-secondary"},G={key:1,class:"card"},H={class:"card-body"},J={class:"card-title"},P={class:"table"},X={class:"text-end"},Y={class:"text-end"},et={__name:"WorkWeek3NoComp",setup(Z){const k=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}],_=d(""),h=d(0),u=d([]),c=d(""),a=d([]),b=C(()=>a.value.reduce((n,o)=>n+=o.subtotal,0));function y(n){n.subtotal=n.price*n.count}function x(n){const o=a.value.findIndex(e=>e.id===n);a.value.splice(o,1)}function g(){_.value=c.value,h.value=b.value,u.value=a.value,c.value="",a.value=[]}function w(n){const o=a.value.find(e=>e.productId===n.id);if(o){alert(`[${o.name}] 已加入，請直接調整品項數量哦～`);return}a.value.push({...n,count:1,subtotal:n.price,productId:n.id,id:new Date().getTime()})}return(n,o)=>(i(),s("div",S,[t("div",B,[t("div",D,[t("div",F,[(i(),s(p,null,v(k,e=>t("a",{href:"#",class:"list-group-item list-group-item-action",key:e.id,onClick:V(r=>w(e),["prevent"])},[t("div",M,[t("h5",U,l(e.name),1),t("small",null,l(e.price),1)]),t("p",j,l(e.description),1)],8,I)),64))])]),t("div",L,[t("table",Q,[o[2]||(o[2]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(i(!0),s(p,null,v(a.value,e=>(i(),s("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:r=>x(e.id)}," x ",8,R)]),t("td",null,l(e.name),1),t("td",null,[t("small",null,l(e.description),1)]),t("td",null,[f(t("select",{class:"form-select","onUpdate:modelValue":r=>e.count=r,onChange:r=>y(e)},o[1]||(o[1]=[N('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10)]),40,W),[[$,e.count]])]),t("td",null,l(e.price),1),t("td",null,l(e.subtotal),1)]))),128))])]),a.value.length<=0?(i(),s("div",E," 請選擇商品 ")):(i(),s("div",K,[t("div",O,[t("h5",null,[o[3]||(o[3]=m(" 總計: ")),t("span",null,"$"+l(b.value),1)])]),f(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e)},null,512),[[T,c.value]]),t("div",{class:"text-end"},[t("button",{type:"button",class:"btn btn-primary",onClick:g}," 送出 ")])]))])]),o[8]||(o[8]=t("hr",null,null,-1)),t("div",q,[t("div",z,[u.value.length<=0?(i(),s("div",A,"尚未建立訂單")):(i(),s("div",G,[t("div",H,[t("div",J,[o[7]||(o[7]=t("h5",null,"訂單",-1)),t("table",P,[o[4]||(o[4]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(i(!0),s(p,null,v(u.value,e=>(i(),s("tr",{key:e.id},[t("td",null,l(e.name),1),t("td",null,l(e.count),1),t("td",null,l(e.subtotal),1)]))),128))])]),t("div",X,[o[5]||(o[5]=m(" 備註: ")),t("span",null,l(_.value),1)]),t("div",Y,[t("h5",null,[o[6]||(o[6]=m(" 總計: ")),t("span",null,"$"+l(h.value),1)])])])])]))])])]))}};export{et as default};
