<template>
    <h2>ğŸ… Day1 - Vue.js çš„åŸºç¤é­”æ³•ï¼šv-textã€v-htmlã€v-once</h2>
    <p>
        <a href="https://hackmd.io/67i9ck20QjW5iHL0CexPyQ?view" target="_blank">é¡Œç›®</a>ï½œ
        <a href="https://github.com/GitHubPlayerZero/hex-vue3-practise/blob/main/src/views/day_jobs/DayJob1.vue" target="_blank">Code</a>ï½œ
        <a href="https://codepen.io/codepenplayer/pen/YzopbXP" target="_blank">CodePen</a>
    </p>
    
    <hr />

    <div id="app">
        <fieldset>
            <legend>Q1</legend>
            <div class="Q1">
                Ray èº«ä¸Šæœ‰ {{ RayMoney }} å…ƒï¼Œå»è¶…å•†åƒåˆé¤èŠ±äº† {{ lunchPrice }} å…ƒï¼Œè²·äº†ä¸€æ¯é£²æ–™èŠ±äº†
                {{ drinkPrice }} å…ƒã€‚
            </div>
        </fieldset>

        <fieldset>
            <legend>Q2</legend>
            <div class="Q2" v-text="rawHTML"></div>
        </fieldset>

        <fieldset>
            <legend>Q3</legend>
            <div class="Q3" v-html="rawHTML"></div>
        </fieldset>

        <fieldset>
            <legend>Q4</legend>
            <div class="Q4" v-once>æ­¤æ¬„ä½ç‚ºå–®æ¬¡ç¶å®šï¼šå»è¶…å•†åƒåˆé¤èŠ±äº† {{ lunchPrice }} å…ƒ</div>
        </fieldset>

        <hr />

        <button type="button" @click="changeLunchPrice">
            90 å…ƒå¤ªå°ä¸èµ· Ray çš„èº«åƒ¹ï¼Œæ”¹åƒ 1000 å…ƒ
            <br />
            ï¼ˆQ4 ç¶å®š v-once çš„å…ƒç´ ä¸æœƒè¢«æ”¹è®Šï¼‰
        </button>

        <p>
            v-html æœ‰æ©Ÿæœƒç”¢ç”Ÿ XSS å¼±é»ï¼š
            <a href="https://blog.csdn.net/zhaoletf/article/details/115101293" target="_blank">
                åƒè€ƒ
            </a>
        </p>
    </div>
</template>

<script setup>
import { ref } from 'vue';

const RayMoney = ref(1500);
const lunchPrice = ref(90);
const drinkPrice = ref(65);

const rawHTML = ref(
    "<p style='color: blue;'>å§†å’ªå§†å’ªå¿ƒå‹•å‹• (*Â´âˆ€`)~â™¥</p>" +
        "<img src='' style='display: none;' onerror='alert(`é€™æ˜¯ XSS æ”»æ“Š`)'>"
);

function changeLunchPrice() {
    lunchPrice.value = 1000;
}
</script>

<style lang="scss" scoped>
body {
    padding: 0 15px 10px;
}

fieldset {
    margin-bottom: 18px;
}
hr {
    margin: 24px 0;
}
</style>
