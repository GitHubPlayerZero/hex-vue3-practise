<template>
	<h1 class="h1">ğŸ… Day8 - Vue.js çš„åŸºç¤é­”æ³•ï¼šç¸½çµç·´ç¿’</h1>
	<p>
		<a href="https://hackmd.io/TWH7aGfHQi2aSp4QH-10CA" target="_blank">é¡Œç›®</a>ï½œ
		<a
			href="https://github.com/GitHubPlayerZero/hex-vue3-practise/blob/main/src/views/day_jobs/DayJob8.vue"
			target="_blank"
			>Code</a
		>ï½œ
		<a href="https://codepen.io/codepenplayer/pen/eYwRQOV" target="_blank">CodePen</a>
	</p>

	<hr class="hr mt-0" />

	<div id="app" class="container">
		<!-- æ“ä½œ -->
		<label class="mb-3">
			è«‹é¸æ“‡æ°´æœï¼š&nbsp;
			<select
				class="form-select d-inline-block"
				style="max-width: fit-content"
				v-model="selected"
			>
				<option value="">å…¨éƒ¨</option>
				<option v-for="item in fruitData" :key="item.title" :value="item.title">
					{{ item.title }}
				</option>
			</select>
		</label>

		<!-- è³‡è¨Š -->
		<div class="mb-3">
			æ‚¨é¸æ“‡äº†ï¼š<span class="fw-bold">{{ selected }}</span>
		</div>
		<div class="mb-36">
			è³¼ç‰©è»Šï¼š<span class="fw-bold">{{ cartData }}</span>
		</div>

		<!-- Card -->
		<div class="row">
			<template v-for="item in fruitData" :key="item.title">
				<div class="col-md-6 mb-3" v-if="selected === '' || selected === item.title">
					<!-- ç•«é¢å¯¬åº¦åˆ°é” lg (992px) ä»¥ä¸Šï¼Œå°±è®Šç‚ºæ©«å‘åè½‰æ’åˆ— -->
					<div class="card p-3 flex-lg-row-reverse align-items-center">
						<img
							:src="item.imgUrl"
							:alt="item.title"
							:title="`${item.title} åªè¦ $${item.price} å…ƒ`"
							class="img-fluid mb-3 mb-lg-0"
							style="width: 40%"
						/>

						<div class="card-body p-0">
							<h5 class="card-title">æ°´æœåç¨±ï¼š{{ item.title }}</h5>
							<p class="card-text my-2">åƒ¹éŒ¢ï¼š{{ item.price }}</p>
							<p class="card-text mb-3">æ•¸é‡ï¼š{{ item.count }}</p>
							<a
								href="javascript:void(0)"
								class="btn btn-primary"
								@click="addProduct(item)"
								>åŠ å…¥è³¼ç‰©è»Š</a
							>
						</div>
					</div>
				</div>
			</template>
		</div>
	</div>
</template>

<script setup>
import { ref } from 'vue';

const fruitData = ref([
	{
		title: 'apple',
		price: 25,
		count: 50,
		imgUrl: 'https://i.imgur.com/w4sYWlS.jpeg',
	},
	{
		title: 'orange',
		price: 15,
		count: 20,
		imgUrl: 'https://i.imgur.com/PSmzmXi.jpeg',
	},
	{
		title: 'strawberry',
		price: 45,
		count: 10,
		imgUrl: 'https://i.imgur.com/FIMmh6h.png',
	},
	{
		title: 'kiwi',
		price: 55,
		count: 20,
		imgUrl: 'https://i.imgur.com/TIA6v4m.jpeg',
	},
]);

const cartData = ref([]);

const addProduct = (fruit) => {
	cartData.value.push(fruit.title);
	alert(`æ‚¨å·²å°‡ ${fruit.title} åŠ å…¥è³¼ç‰©è»Š`);
};

const selected = ref('');
</script>

<style lang="scss" scoped>
.card {
	height: 100%;

	@media (min-width: 992px) {
		height: 270px;
	}
}
</style>
